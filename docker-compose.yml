# Run backend: python -m uvicorn main:app --host 0.0.0.0 --port 3000
# With frontend: build frontend into static/ first, or add a frontend service that outputs to static.
services:
  web:
    build: .
    ports:
      - "3000:3000"
    environment:
      - PORT=3000
    # Override so we always use port from env (Render sets PORT)
    command: ["sh", "-c", "python -m uvicorn main:app --host 0.0.0.0 --port ${PORT:-3000}"]
